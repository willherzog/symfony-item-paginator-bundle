{% if ajax_only|default(false) %}
	{%~ set using_buttons = true %}
{% else %}
	{%~ set using_buttons = false %}
	{%~ set request_queries = app.request.query.all %}
{% endif %}
{% set display_item_total = paginator.config.flags.get('display_item_total') %}
{% set display_current_page = paginator.config.flags.get('display_current_page') %}
{% set display_page_count = paginator.config.flags.get('display_page_count') %}
{% set display_placeholders = paginator.config.flags.get('display_placeholders') %}
{% set any_available = paginator.lastPage != paginator.firstPage %}
{% set show_first_last = paginator.config.flags.get('display_bookend_actions') and paginator.lastPage > 2 %}
{% set numeric_actions = paginator.numericActions %}
{% set action_template = '@WHItemPaginator/action/_action.html.twig' %}
{% set placeholder_template = '@WHItemPaginator/action/_placeholder.html.twig' %}
{% if any_available or display_item_total %}
		<nav class="pagination">
	{%~ if display_item_total %}
		{%~ set item_total_label = paginator.itemTotalLabel ?? 'pagination.item_total' %}
			<span class="item-total">{{ item_total_label|trans({count: paginator.itemTotal}) }}</span>
	{%~ endif %}
	{%~ if any_available %}
		{%~ if paginator.currentPage != paginator.firstPage %}
			{%~ set prevPage = paginator.currentPage - 1 %}
			{%~ if show_first_last %}
				{%~ if prevPage != paginator.firstPage %}
					{{~ include(action_template, {label: 'pagination.action.label.first', action_class: 'goto-first', action_goto: paginator.firstPage, tooltip: 'pagination.action.tooltip.first', rel: 'first', key: paginator.config.shortcutKeyFirst}) -}}
				{%~ elseif display_placeholders %}
					{{~ include(placeholder_template, {label: 'pagination.action.label.first', action_class: 'goto-first'}) -}}
				{%~ endif %}
			{%~ endif %}
			{{~ include(action_template, {label: 'pagination.action.label.prev', action_class: 'goto-prev', action_goto: prevPage, tooltip: 'pagination.action.tooltip.prev', rel: 'prev', key: paginator.config.shortcutKeyPrev}) -}}
		{%~ elseif display_placeholders %}
			{%~ if show_first_last %}
				{{~ include(placeholder_template, {label: 'pagination.action.label.first', action_class: 'goto-first'}) -}}
			{%~ endif %}
			{{~ include(placeholder_template, {label: 'pagination.action.label.prev', action_class: 'goto-prev'}) -}}
		{%~ endif %}
		{%~ if numeric_actions is not empty %}
		  {%~ for page_num in numeric_actions %}
			{%~ if page_num == paginator.currentPage %}
			<span class="current-page">{{ paginator.currentPage }}</span>
			{%~ else %}
				{{~ include(action_template, {action_class: 'goto-page', action_goto: page_num}) -}}
			{%~ endif %}
		  {%~ endfor %}
		{%~ else %}
			{%~ if display_current_page %}
			<span class="current-page">{{ paginator.currentPage }}</span>
			{%~ endif %}
			{%~ if display_current_page and display_page_count %}
			{{ 'pagination.separator'|trans }}
			{%~ endif %}
			{%~ if display_page_count %}
			<span class="page-count">{{ paginator.lastPage }}</span>
			{%~ endif %}
		{%~ endif %}
		{%~ if paginator.currentPage != paginator.lastPage %}
			{%~ set nextPage = paginator.currentPage + 1 %}
			{{~ include(action_template, {label: 'pagination.action.label.next', action_class: 'goto-next', action_goto: nextPage, tooltip: 'pagination.action.tooltip.next', rel: 'next', key: paginator.config.shortcutKeyNext}) -}}
			{%~ if show_first_last %}
				{%~ if nextPage != paginator.lastPage %}
					{{~ include(action_template, {label: 'pagination.action.label.last', action_class: 'goto-last', action_goto: paginator.lastPage, tooltip: 'pagination.action.tooltip.last', rel: 'last', key: paginator.config.shortcutKeyLast}) -}}
				{%~ elseif display_placeholders %}
					{{~ include(placeholder_template, {label: 'pagination.action.label.last', action_class: 'goto-last'}) -}}
				{%~ endif %}
			{%~ endif %}
		{%~ elseif display_placeholders %}
			{{~ include(placeholder_template, {label: 'pagination.action.label.next', action_class: 'goto-next'}) -}}
			{%~ if show_first_last %}
				{{~ include(placeholder_template, {label: 'pagination.action.label.last', action_class: 'goto-last'}) -}}
			{%~ endif %}
		{%~ endif %}
	{%~ endif %}
		</nav>
{%- endif %}